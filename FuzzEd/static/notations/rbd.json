{
    "kind": "rbd",
    "name": "Reliability Block Diagram",
    "nodes": {
        "node": {
            "nodeDisplayName": "Node",
            "numberOfIncomingConnections": -1,
            "numberOfOutgoingConnections": -1,

            "allowConnectionTo": [],

            "connector": {
                "offset": {
                    "top":    0,
                    "bottom": 0
                }
            },

            "properties": {
                "name" : {
                    "kind": "text",
                    "default": "Node",
                    "displayName": "Name",

                    "mirror": {
                        "position": "bottom",
                        "style": ["bold", "large"]
                    }
                }
            }
        },

        "start": {
            "nodeDisplayName": "Start",
            "help": "The starting point for the diagram.",
            "inherits": "node",
            "image": "start.svg",

            "numberOfIncomingConnections": 0,

            "allowConnectionTo": ["end", "block", "out_of"],

            "excludeFromShapesMenu": true,
            "deletable": false,

            "connector": {
                "offset": {
                    "right": -9.1
                }
            },

            "properties": {
                "name": {
                    "default": "Start"
                }
            }
        },

        "end": {
            "nodeDisplayName": "End",
            "help": "The terminal point for the diagram.",
            "inherits": "node",
            "image": "end.svg",

            "numberOfOutgoingConnections": 0,

            "excludeFromShapesMenu": true,
            "deletable": false,

            "connector": {
                "offset": {
                    "left": 8.1
                }
            },

            "properties": {
                "name": {
                    "default": "End"
                }
            }
        },

        "block": {
            "nodeDisplayName": "Block",
            "help": "A functional block in the system.",
            "inherits": "node",
            "image": "block.svg",

            "allowConnectionTo": ["end", "block", "out_of"],

            "excludeFromShapesMenu": false,

            "properties": {
                "probability": {
                    "kind": "numeric",
                    "displayName": "Probability",
                    "default": 0,
                    "min": 0,
                    "max": 1,
                    "step": 0.0000000001,

                    "mirror": {
                        "position": "bottom",
                        "style": ["italic"],
                        "format": "p={{$0}}"
                    }
                }
            }
        },

        "out_of": {
            "nodeDisplayName": "Out of",
            "help": "The output is active if at least the given number of inputs is active.",
            "inherits": "node",
            "image": "out_of.svg",

            "numberOfOutgoingConnections": 1,

            "allowConnectionTo": ["block", "end"],

            "excludeFromShapesMenu": false,

            "out_of": [1, 1],

            "properties": {
                "name": {
                    "default": "Out of"
                },

                "out_of": {
                    "kind": "range",
                    "displayName": "Out-of",
                    "default": [1, 1],
                    "min": 1,
                    "step": 1,

                    "mirror": {
                        "position": "bottom",
                        "style": ["italic"],
                        "format": "{{$0}}/{{$1}}"
                    }
                }
            }
        }
    },

    "propertiesDisplayOrder": [
        "name",
        "probability",
        "out_of"
    ],

    "shapeMenuNodeDisplayOrder": [
        "block",
        "out_of",
        "start",
        "end"
    ],

    "defaults": {
        "nodes": [
            {
                "kind": "start",
                "x": 5,
                "y": 1
            },
            {
                "kind": "end",
                "x": 10,
                "y": 1
            }
        ]
    }
}
